---
title: "simulation"
author: "He Junhui"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(microbenchmark)
```

```{r}
Sys.setlocale("LC_ALL","English")
```

+ knn

```{r}
X <- matrix(rnorm(1e6 * 100), 1e6, 100)
dim(X)
b <- rnorm(100)
y <- drop(X %*% b) + rnorm(1e6)
```


+ OpenBLAS
```{r}
microbenchmark({b <- solve(crossprod(X), crossprod(X, y))}, times=20)
```

+ kmeans
```{r}
Z <- matrix(rnorm(1e4*10), 1e4, 10)
s <- 100
```

```{r}
system.time({subsample(Z, s)})
```
```{r}
system.time({subsample(Z, s)})
```
